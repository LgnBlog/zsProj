{"version":3,"sources":["webpack:///./node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","webpack:///./node_modules/@babel/runtime/helpers/esm/iterableToArray.js","webpack:///./node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","webpack:///./node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","webpack:///./src/views/components/treeSelect/index.vue?35cc","webpack:///src/views/components/treeSelect/index.vue","webpack:///./src/views/components/treeSelect/index.vue?db0d","webpack:///./src/views/components/treeSelect/index.vue","webpack:///./src/views/components/treeSelect/index.vue?897f"],"names":["_arrayWithoutHoles","arr","Array","isArray","i","arr2","length","_iterableToArray","iter","Symbol","iterator","Object","prototype","toString","call","from","_nonIterableSpread","TypeError","_toConsumableArray","render","_vm","this","_h","$createElement","_c","_self","attrs","valueTitle","clearable","on","clearHandle","staticClass","ref","accordion","options","props","value","defaultExpandedKey","filterNode","handleNodeClick","staticRenderFns","name","type","default","label","children","Boolean","data","filterText","valueId","selectData","mounted","initHandle","methods","forEach","JSON","parse","stringify","initScroll","$nextTick","scrollWrap","style","cssText","scrollBar","node","some","item","push","val","$emit","clearSelected","allNode","indexOf","watch","$refs","selectTree","filter","component"],"mappings":"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","file":"js/chunk-6f996d08.1ae656b1.js","sourcesContent":["export default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}","export default function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}","import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-select',{attrs:{\"value\":_vm.valueTitle,\"clearable\":_vm.clearable},on:{\"clear\":_vm.clearHandle}},[_c('el-option',{staticClass:\"options\",attrs:{\"value\":_vm.valueTitle,\"label\":_vm.valueTitle}},[_c('el-tree',{ref:\"selectTree\",attrs:{\"id\":\"tree-option\",\"accordion\":_vm.accordion,\"data\":_vm.options,\"props\":_vm.props,\"node-key\":_vm.props.value,\"default-expanded-keys\":_vm.defaultExpandedKey,\"filter-node-method\":_vm.filterNode},on:{\"node-click\":_vm.handleNodeClick}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <el-select :value=\"valueTitle\" :clearable=\"clearable\" @clear=\"clearHandle\">\r\n    <el-option :value=\"valueTitle\" :label=\"valueTitle\" class=\"options\">\r\n      <el-tree\r\n        id=\"tree-option\"\r\n        ref=\"selectTree\"\r\n        :accordion=\"accordion\"\r\n        :data=\"options\"\r\n        :props=\"props\"\r\n        :node-key=\"props.value\"\r\n        :default-expanded-keys=\"defaultExpandedKey\"\r\n        :filter-node-method=\"filterNode\"\r\n        @node-click=\"handleNodeClick\"\r\n      >\r\n      </el-tree>\r\n    </el-option>\r\n  </el-select>\r\n</template>\r\n \r\n<script>\r\nexport default {\r\n  name: \"el-tree-select\",\r\n  props: {\r\n    /* 配置项 */\r\n    props: {\r\n      type: Object,\r\n      default: () => {\r\n        return {\r\n          value: \"id\", // ID字段名\r\n          label: \"title\", // 显示名称\r\n          children: \"children\", // 子级字段名\r\n        };\r\n      },\r\n    },\r\n    /* 选项列表数据(树形结构的对象数组) */\r\n    options: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      },\r\n    },\r\n    /* 初始值 */\r\n    value: {\r\n      type: Array,\r\n      default: () => {\r\n        return [];\r\n      },\r\n    },\r\n    /* 可清空选项 */\r\n    clearable: {\r\n      type: Boolean,\r\n      default: () => {\r\n        return true;\r\n      },\r\n    },\r\n    /* 自动收起 */\r\n    accordion: {\r\n      type: Boolean,\r\n      default: () => {\r\n        return false;\r\n      },\r\n    },\r\n  },\r\n  data() {\r\n    return {\r\n      filterText: \"\",\r\n      valueId: '', // 初始值\r\n      valueTitle: \"\",\r\n      defaultExpandedKey: [],\r\n      selectData:[]\r\n    };\r\n  },\r\n  mounted() {\r\n    this.initHandle();\r\n  },\r\n  methods: {\r\n    // 初始化值\r\n    initHandle() {\r\n      // window.console.log(this.$refs.selectTree)\r\n      if (Array.isArray(this.value) && this.value.length !== 0) {\r\n        // window.console.log(this.$refs.selectTree.getNode(10036), '***')\r\n        this.value.forEach(item => {\r\n          this.valueTitle += `${item[this.props.label]}，`\r\n        });\r\n        this.selectData = JSON.parse(JSON.stringify(this.value));\r\n        // this.$refs.selectTree.setCurrentKey(this.valueId); // 设置默认选中\r\n        this.defaultExpandedKey = [...(this.value.map(item => item[this.props.value]))]; // 设置默认展开\r\n      }\r\n      this.initScroll();\r\n    },\r\n    // 初始化滚动条\r\n    initScroll() {\r\n      this.$nextTick(() => {\r\n        let scrollWrap = document.querySelectorAll(\r\n          \".el-scrollbar .el-select-dropdown__wrap\"\r\n        )[0];\r\n        let scrollBar = document.querySelectorAll(\r\n          \".el-scrollbar .el-scrollbar__bar\"\r\n        );\r\n        scrollWrap.style.cssText =\r\n          \"margin: 0px; max-height: none; overflow: hidden;\";\r\n        scrollBar.forEach((ele) => (ele.style.width = 0));\r\n      });\r\n    },\r\n    // 切换选项\r\n    handleNodeClick(node) {\r\n      // window.console.log(node)\r\n      if (Array.isArray(node[this.props.children]) && node[this.props.children].length !== 0) {\r\n        return;\r\n      } else {\r\n        let val ='';\r\n        // window.console.log(node)\r\n        if (!this.selectData.some( item => {\r\n          return item[this.props.value] == node[this.props.value]\r\n        })) {\r\n          this.selectData.push(node)\r\n          this.selectData.forEach(el=> val += `${el[this.props.label]}，`);\r\n          this.valueTitle = val;\r\n          this.valueId = node[this.props.value];\r\n          this.$emit(\"getValue\", this.selectData);\r\n          this.defaultExpandedKey = [];\r\n        }\r\n      }\r\n    },\r\n    // 清除选中\r\n    clearHandle() {\r\n      this.valueTitle = \"\";\r\n      this.valueId = \"\";\r\n      this.defaultExpandedKey = [];\r\n      this.selectData = []\r\n      this.clearSelected();\r\n      this.$emit(\"getValue\", null);\r\n    },\r\n    /* 清空选中样式 */\r\n    clearSelected() {\r\n      let allNode = document.querySelectorAll(\"#tree-option .el-tree-node\");\r\n      allNode.forEach((element) => element.classList.remove(\"is-current\"));\r\n    },\r\n    filterNode(value, data) {\r\n      if (!value) return true;\r\n      return data.name.indexOf(value) !== -1;\r\n    },\r\n  },\r\n  watch: {\r\n    value() {\r\n      // this.valueId = this.value;\r\n      this.initHandle();\r\n    },\r\n    filterText(val) {\r\n      this.$refs.selectTree.filter(val);\r\n    },\r\n    // options(val) {\r\n    //   window.console.log(val)\r\n    // }\r\n  },\r\n};\r\n</script>\r\n \r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n.el-scrollbar .el-scrollbar__view .el-select-dropdown__item {\r\n  height: auto;\r\n  max-height: 274px;\r\n  padding: 0;\r\n  overflow: hidden;\r\n  overflow-y: auto;\r\n}\r\n.el-select-dropdown__item.selected {\r\n  font-weight: normal;\r\n}\r\nul li >>> .el-tree .el-tree-node__content {\r\n  height: auto;\r\n  padding: 0 20px;\r\n}\r\n.el-tree-node__label {\r\n  font-weight: normal;\r\n}\r\n.el-tree >>> .is-current .el-tree-node__label {\r\n  color: #409eff;\r\n  font-weight: 700;\r\n}\r\n.el-tree >>> .is-current .el-tree-node__children .el-tree-node__label {\r\n  color: #606266;\r\n  font-weight: normal;\r\n}\r\n.selectInput {\r\n  padding: 0 5px;\r\n  box-sizing: border-box;\r\n}\r\n/* 开发禁用 */\r\n/* .el-tree-node:focus>.el-tree-node__content{\r\n    background-color:transparent;\r\n    background-color: #f5f7fa;\r\n    color: #c0c4cc;\r\n    cursor: not-allowed;\r\n  }\r\n  .el-tree-node__content:hover{\r\n    background-color: #f5f7fa;\r\n  } */\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=732a1924&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=732a1924&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"732a1924\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=732a1924&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=732a1924&scoped=true&lang=css&\""],"sourceRoot":""}