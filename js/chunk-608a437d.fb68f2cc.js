(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-608a437d","chunk-51759209","chunk-4768a34c","chunk-040fcd76","chunk-2fab9432"],{"2d86":function(e,t,a){},"36c1":function(e,t,a){"use strict";var n=a("d578"),l=a.n(n);l.a},"56ab":function(e,t,a){},"58b6":function(e,t,a){"use strict";var n=a("7260"),l=a.n(n);l.a},"60ee":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"element-bda-table",class:"1"===e.$root.themeHomeChange?"element-bda-tableL":"element-bda-table"},[a("bda-scroll-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:e.tableHeight?e.tableHeight:null},on:{"selection-change":e.handleSelectionChange}},[e.selection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e.index?a("el-table-column",{attrs:{type:"index",label:"序号","header-align":"center",align:"center",width:"80"}}):e._e(),e._l(e.columnArray,(function(t){return a("el-table-column",{key:t.prop,attrs:{"show-overflow-tooltip":"",prop:t.prop,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(n){return["operate"===t.type?a("span",e._l(t.linkName,(function(t){return a("el-button",{key:t,attrs:{type:"text"},on:{click:function(a){return e.rowClick(n.row,t)}}},[e._v(e._s(t||""))])})),1):"link"===t.type?e._l(n.row[t.prop],(function(l){return a("div",{key:l[t.key]||""},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleLink(n.row,l)}}},[e._v(e._s(l.fileName||""))])],1)})):a("span",[e._v("\n                    "+e._s(n.row[t.prop])+"\n                ")])]}}],null,!0)})}))],2),a("div",{staticStyle:{"text-align":"center","margin-top":"8px"}},[a("el-pagination",{attrs:{"current-page":e.pagesRs.pageNo,"page-sizes":[10,20,30,40],"page-size":e.pagesRs.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagesRs.total},on:{"size-change":e.handleSizeChangeRs,"current-change":e.handleCurrentChangeRs}})],1)],1)},l=[],o=(a("c5f6"),{name:"element-bda-table",components:{},props:{tableData:{type:Array,default:function(){return[]}},columnArray:{type:Array,default:function(){return[]}},pageSize:{type:Number,default:function(){return 10}},pageNo:{type:Number,default:function(){return 1}},total:{type:Number,default:function(){return 0}},tableHeight:{type:Number,default:function(){return null}},selection:{type:Boolean,default:function(){return!1}},index:{type:Boolean,default:function(){return!0}}},watch:{tableData:{handler:function(e){this.tableData=e||[]},deep:!0,immediate:!0},pageSize:function(e){this.pagesRs.pageSize=e||10},pageNo:function(e){this.pagesRs.pageNo=e||1},total:function(e){this.pagesRs.total=e||0}},data:function(){return{pagesRs:{pageNo:1,pageSize:10,total:0}}},created:function(){},methods:{rowClick:function(e,t){var a=this;"删除"===t?this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$emit("getRow",e,t)})).catch((function(){a.$message({type:"info",message:"已取消删除"})})):this.$emit("getRow",e,t)},handleLink:function(e,t){this.$emit("linkRow",e,t)},handleCurrentChangeRs:function(e){this.pagesRs.pageNo=e,this.$emit("getPageNo",e)},handleSizeChangeRs:function(e){this.pagesRs.pageSize=e,this.$emit("getPageSize",e)},handleSelectionChange:function(e){this.$emit("selectBox",e)}}}),i=o,r=(a("ffc9"),a("2877")),s=Object(r["a"])(i,n,l,!1,null,"7da33e47",null);t["a"]=s.exports},6100:function(e,t,a){"use strict";var n=a("56ab"),l=a.n(n);l.a},"643f":function(e,t,a){},7260:function(e,t,a){},"85ac":function(e,t,a){"use strict";var n=a("643f"),l=a.n(n);l.a},"88cd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myCheck"},[a("div",{staticClass:"nav"},[a("span",[e._v("创建时间")]),a("el-date-picker",{staticClass:"input_c",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.cTime,callback:function(t){e.cTime=t},expression:"cTime"}}),a("span",[e._v("类型")]),a("bda-select",{staticClass:"input_c",attrs:{size:"small",filterable:"",clearable:"",placeholder:"请选择类型"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.form.typeList,(function(e){return a("bda-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),a("span",[e._v("状态")]),a("bda-select",{staticClass:"input_c",attrs:{size:"small",filterable:"",clearable:"",placeholder:"请选择状态"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.form.statusList,(function(e){return a("bda-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),a("bda-button",{on:{click:e.getDatas}},[e._v("查询")])],1),a("div",{staticStyle:{height:"calc(100% - 20px)"}},[a("element-bda-table-page",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.dsLoading,expression:"dsLoading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",columnArray:e.majorCol,pageSize:e.pagesRs.pageSize,pageNo:e.pagesRs.pageNo,total:e.pagesRs.total},on:{getRow:e.getMajorRow,linkRow:e.linkRowClick,getPageNo:e.changePageNo,getPageSize:e.changePageSize}},"element-bda-table-page",e._d({},[e.tableData,e.majorArray])))],1)])},l=[],o=(a("7f7f"),a("60ee")),i=a("8986"),r=a("db49"),s={name:"myCheck",mixins:[i["a"]],components:{elementBdaTablePage:o["a"]},props:[],data:function(){return{form:{typeList:[{name:"新增",value:"新增"},{name:"修改",value:"修改"},{name:"删除",value:"删除"},{name:"停用",value:"停用"},{name:"启用",value:"启用"}],statusList:[{name:"审核不通过",value:"0"},{name:"待审核",value:"1"},{name:"审核通过",value:"2"},{name:"已撤销",value:"-1"},{name:"已废除",value:"-2"}]},tableData:"tableData",majorArray:[],majorCol:[],dsLoading:!1,pagesRs:{pageNo:1,pageSize:10,total:0},keyWords:"",cTime:"",status:"",type:""}},mounted:function(){this.getDatas()},created:function(){this.getDepartment()},watch:{},methods:{getDepartment:function(){var e=this;this.department({}).then((function(t){e.departmentArray=t||[]}))},departmentChange:function(e){for(var t=0;t<this.departmentArray.length;t++)if(e===this.departmentArray[t].code)return void(this.dynamicValidateForm.departmentName=this.departmentArray[t].name)},changePageNo:function(e){this.pagesRs.pageNo=e,this.getDatas()},changePageSize:function(e){this.pagesRs.pageSize=e,this.getDatas()},getMajorRow:function(e,t){"审核"===t&&this.handleAuditRule(e),window.console.log(e,t)},handleAuditRule:function(e){var t=this;this.auditRule({ruleId:e.ruleId}).then((function(){t.getDatas(),t.$message.success("审核通过")}))},linkRowClick:function(e,t){window.console.log(e,t),window.open(r["b"]+"/rule/file/download?fileName="+t.fileName+"&filePath="+t.filePath)},getDatas:function(){var e=this;this.dsLoading=!0,this.majorCol=[{prop:"ruleName",label:"规则名称"},{prop:"ruleType",label:"规则分类"},{prop:"department",label:"归口部门"},{prop:"ywjd",label:"业务流程阶段"},{prop:"ywsx",label:"业务事项"},{prop:"riskLevel",label:"风险等级"},{prop:"zrgw",label:"责任岗位"},{prop:"ruleObj",label:"规则实例名"},{prop:"wjtwsy",label:"文件条文索引"},{prop:"files",label:"关联知识库",type:"link",key:"documentId"},{prop:"isOpen",label:"是否启用"},{prop:"statusType",label:"状态"},{type:"operate",linkName:["审核"],label:"操作",width:"120"}],this.queryRuleList({current:this.pagesRs.pageNo,size:this.pagesRs.pageSize,keyword:this.keyWords,auditStatus:"1"}).then((function(t){e.pagesRs.total=t.records,e.majorArray=t.rows.filter((function(e){return 1===e.isOpen?e.isOpen="是":e.isOpen="否"})),e.majorArray=e.majorArray.filter((function(e){return 1===e.statusType?e.statusType="待审核":e.statusType="其他"}))})).finally((function(){e.dsLoading=!1}))}}},c=s,u=(a("36c1"),a("2877")),p=Object(u["a"])(c,n,l,!1,null,"4ab51bfc",null);t["default"]=p.exports},a1bd:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"project-manage-page"},[a("div",{staticClass:"form-container"},[a("manage-form",{ref:"projectManageForm",on:{serachEvent:e.serachEvent,batchDelete:e.batchDelete}})],1),a("div",{staticClass:"table-container",class:"1"===e.$root.themeHomeChange?"table-containerL":""},[a("manage-table",{ref:"projectManageTable",on:{exportTable:e.exportTable,editRow:e.editRow}})],1)])},l=[],o=a("31da"),i=a("c9e8"),r={name:"projectManagePage",components:{manageTable:i["default"],manageForm:o["default"]},data:function(){return{}},watch:{},mounted:function(){},methods:{serachEvent:function(e){var t={keyValue:e.keyValue||"",ruleType:e.projectName||"",riskRank:e.projectType||"",resJobs:e.resJobs||"",department:e.team||""};this.$refs.projectManageTable.initForm(t)},batchDelete:function(){var e=this;this.$confirm("此操作将永久删除该文件, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$refs.projectManageTable.deleteRows()})).catch((function(){e.$message({type:"info",message:"已取消删除"})}))},editRow:function(e){this.$refs.projectManageForm.editDialogClick(e)},reloadTable:function(){},exportTable:function(){}}},s=r,c=(a("85ac"),a("2877")),u=Object(c["a"])(s,n,l,!1,null,"e2917ae0",null);t["default"]=u.exports},b5ca:function(e,t,a){},b619:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myAdd",attrs:{id:"myAdd"}},[a("companyCenterManage")],1)},l=[],o=a("a1bd"),i={name:"myAdd",components:{companyCenterManage:o["default"]},data:function(){return{}},watch:{},mounted:function(){},methods:{}},r=i,s=(a("58b6"),a("2877")),c=Object(s["a"])(r,n,l,!1,null,"850e7100",null);t["default"]=c.exports},beb7:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ruleReview",class:"1"===e.$root.themeHomeChange?"ruleReviewL":"",attrs:{id:"ruleReview"}},[a("el-tabs",{attrs:{type:"card"},on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},e._l(e.tabs,(function(t){return a("el-tab-pane",{key:t.label,attrs:{label:t.label,name:t.label}},[e.activeName===t.label?a(t.name,{tag:"component"}):e._e()],1)})),1)],1)},l=[],o=a("b619"),i=a("88cd"),r={name:"ruleReview",components:{myAdd:o["default"],myCheck:i["default"]},data:function(){return{activeName:"我的新增",tabs:[{name:o["default"],label:"我的新增"},{name:i["default"],label:"我的审核"}]}},watch:{},mounted:function(){},methods:{handleClick:function(e,t){window.console.log(e,t)}}},s=r,c=(a("c4ff"),a("2877")),u=Object(c["a"])(s,n,l,!1,null,"ae8df7ba",null);t["default"]=u.exports},c4ff:function(e,t,a){"use strict";var n=a("2d86"),l=a.n(n);l.a},c9e8:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{ref:"projectManageTableRef",staticClass:"project-manage-table",class:"1"===e.$root.themeHomeChange?"manage_table_light":""},[a("bda-scroll-table",{directives:[{name:"loading",rawName:"v-loading",value:e.tableLoading,expression:"tableLoading"}],ref:"table",style:{height:e.tableHeight},attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",background:"",data:e.tableData,"row-key":"id","popper-append-to-body":"",border:"",blInitLoad:!1,"tooltip-effect":"light"},on:{"selection-change":e.handleSelectionChange}},[a("el-table-column",{staticStyle:{"background-color":"#041338"},attrs:{type:"selection","reserve-selection":!0,width:"48"}}),a("el-table-column",{attrs:{type:"index",label:"序号","min-width":"60"}}),a("el-table-column",{attrs:{prop:"ruleName",label:"规则名称","min-width":"160","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"ruleType",label:"规则分类","min-width":"100"}}),a("el-table-column",{attrs:{prop:"department",label:"归口部门","show-overflow-tooltip":"","min-width":"100"}}),a("el-table-column",{attrs:{prop:"ywjd",label:"业务流程阶段","min-width":"140"}}),a("el-table-column",{attrs:{prop:"ywsx","show-overflow-tooltip":"",label:"业务事项","min-width":"168"}}),a("el-table-column",{attrs:{prop:"ruleDefine",label:"定义规则","min-width":"168","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"riskLevel",label:"风险等级","min-width":"100"}}),a("el-table-column",{attrs:{prop:"zrgw",label:"责任岗位","min-width":"120"}}),a("el-table-column",{attrs:{prop:"ruleObj","show-overflow-tooltip":"",label:"规则实例名","min-width":"168"}}),a("el-table-column",{attrs:{prop:"wjtwsy",label:"文件条文索引","min-width":"168","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"glzsk",label:"关联知识库","min-width":"208","show-overflow-tooltip":!1},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.files,(function(t){return a("div",{key:t.zskId,staticStyle:{cursor:"pointer"},attrs:{title:t.fileName},on:{click:function(a){return e.viewFile(t)}}},[e._v(e._s(t.fileName))])}))}}])}),a("el-table-column",{attrs:{prop:"isOpen",label:"是否启用","min-width":"80"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(a){return e.HandleIsOpen(t.row)}},model:{value:t.row.isOpen,callback:function(a){e.$set(t.row,"isOpen",a)},expression:"scope.row.isOpen"}})]}}])}),a("el-table-column",{attrs:{label:"操作",width:"100"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("p",{staticStyle:{cursor:"pointer",color:"#66b9ff"},on:{click:function(a){return e.redactClick(t.row)}}},[e._v("\n          编辑\n        ")])]}}])})],1),a("el-pagination",{attrs:{"current-page":e.pageInfoConfig.page,"page-sizes":[10,20,30,40,50],"page-size":e.pageInfoConfig.rows,background:"",layout:"prev, pager, next, sizes, jumper, total",total:e.pageInfoConfig.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)},l=[],o=(a("ac6a"),a("8986")),i=a("db49"),r={name:"projectManageTable",mixins:[o["a"]],data:function(){return{tableData:[],tableData2:[],pageInfoConfig:{page:1,rows:10,total:0},tableHeight:"",selectData:[],formData:{keyValue:"",ruleType:"",riskRank:"",resJobs:"",department:""},tableLoading:!1}},computed:{},mounted:function(){this.getTableData()},methods:{viewFile:function(e){window.open(i["b"]+"/rule/file/download?fileName="+e.fileName+"&filePath="+e.filePath)},initForm:function(e){this.formData=e,this.pageInfoConfig.page=1,this.pageInfoConfig.rows=10,this.getTableData()},HandleIsOpen:function(e){var t=this;this.handleIsOpen({isOpen:e.isOpen?1:0,ruleId:e.ruleId}).then((function(){})).finally((function(){t.getTableData()}))},getTableData:function(){var e=this;this.tableLoading=!0;var t="",a=this.$route.query.mark;t="myCenter"===a?"2":null,this.queryRuleList({departmentCode:this.formData.department,keyword:this.formData.keyValue,riskLevel:this.formData.riskRank,ruleType:this.formData.ruleType,zrgw:this.formData.resJobs,auditStatus:t,current:this.pageInfoConfig.page,size:this.pageInfoConfig.rows}).then((function(t){t.rows.filter((function(e){return 1==e.isOpen&&e.isOpen?e.isOpen=!0:e.isOpen=!1})),e.tableData=t.rows,e.pageInfoConfig.total=t.records})).finally((function(){e.tableLoading=!1}))},toggleSelection:function(e){var t=this;e?e.forEach((function(e){t.$refs.table.toggleRowSelection(e)})):this.$refs.table.clearSelection()},handleSelectionChange:function(e){this.selectData=e},deleteRows:function(){var e=this;if(this.selectData.length<1)this.$message.warning("请选择需要删除的值！");else{var t=[];t=this.selectData.map((function(e){return e.id}));for(var a=new URLSearchParams,n=0;n<t.length;n++)a.append("ids",t[n]);this.ruleDelete(a).then((function(){e.pageInfoConfig.page,e.getTableData()})).finally((function(){}))}},handleSizeChange:function(e){this.pageInfoConfig.rows=e,this.getTableData(),window.console.log("每页 ".concat(e," 条"))},handleCurrentChange:function(e){this.pageInfoConfig.page=e,this.getTableData(),window.console.log("当前页: ".concat(e))},redactClick:function(e){this.$emit("editRow",e)}}},s=r,c=(a("6100"),a("2877")),u=Object(c["a"])(s,n,l,!1,null,"c293c052",null);t["default"]=u.exports},d578:function(e,t,a){},ffc9:function(e,t,a){"use strict";var n=a("b5ca"),l=a.n(n);l.a}}]);
//# sourceMappingURL=chunk-608a437d.fb68f2cc.js.map