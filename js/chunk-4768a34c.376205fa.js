(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4768a34c"],{"36c1":function(e,t,a){"use strict";var n=a("d578"),l=a.n(n);l.a},"60ee":function(e,t,a){"use strict";var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"element-bda-table",class:"1"===e.$root.themeHomeChange?"element-bda-tableL":"element-bda-table"},[a("bda-scroll-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:e.tableHeight?e.tableHeight:null},on:{"selection-change":e.handleSelectionChange}},[e.selection?a("el-table-column",{attrs:{type:"selection",width:"55"}}):e._e(),e.index?a("el-table-column",{attrs:{type:"index",label:"序号","header-align":"center",align:"center",width:"80"}}):e._e(),e._l(e.columnArray,(function(t){return a("el-table-column",{key:t.prop,attrs:{"show-overflow-tooltip":"",prop:t.prop,label:t.label,width:t.width},scopedSlots:e._u([{key:"default",fn:function(n){return["operate"===t.type?a("span",e._l(t.linkName,(function(t){return a("el-button",{key:t,attrs:{type:"text"},on:{click:function(a){return e.rowClick(n.row,t)}}},[e._v(e._s(t||""))])})),1):"link"===t.type?e._l(n.row[t.prop],(function(l){return a("div",{key:l[t.key]||""},[a("el-button",{attrs:{type:"text"},on:{click:function(t){return e.handleLink(n.row,l)}}},[e._v(e._s(l.fileName||""))])],1)})):a("span",[e._v("\n                    "+e._s(n.row[t.prop])+"\n                ")])]}}],null,!0)})}))],2),a("div",{staticStyle:{"text-align":"center","margin-top":"8px"}},[a("el-pagination",{attrs:{"current-page":e.pagesRs.pageNo,"page-sizes":[10,20,30,40],"page-size":e.pagesRs.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.pagesRs.total},on:{"size-change":e.handleSizeChangeRs,"current-change":e.handleCurrentChangeRs}})],1)],1)},l=[],i=(a("c5f6"),{name:"element-bda-table",components:{},props:{tableData:{type:Array,default:function(){return[]}},columnArray:{type:Array,default:function(){return[]}},pageSize:{type:Number,default:function(){return 10}},pageNo:{type:Number,default:function(){return 1}},total:{type:Number,default:function(){return 0}},tableHeight:{type:Number,default:function(){return null}},selection:{type:Boolean,default:function(){return!1}},index:{type:Boolean,default:function(){return!0}}},watch:{tableData:{handler:function(e){this.tableData=e||[]},deep:!0,immediate:!0},pageSize:function(e){this.pagesRs.pageSize=e||10},pageNo:function(e){this.pagesRs.pageNo=e||1},total:function(e){this.pagesRs.total=e||0}},data:function(){return{pagesRs:{pageNo:1,pageSize:10,total:0}}},created:function(){},methods:{rowClick:function(e,t){var a=this;"删除"===t?this.$confirm("此操作将永久删除该数据, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){a.$emit("getRow",e,t)})).catch((function(){a.$message({type:"info",message:"已取消删除"})})):this.$emit("getRow",e,t)},handleLink:function(e,t){this.$emit("linkRow",e,t)},handleCurrentChangeRs:function(e){this.pagesRs.pageNo=e,this.$emit("getPageNo",e)},handleSizeChangeRs:function(e){this.pagesRs.pageSize=e,this.$emit("getPageSize",e)},handleSelectionChange:function(e){this.$emit("selectBox",e)}}}),o=i,s=(a("ffc9"),a("2877")),r=Object(s["a"])(o,n,l,!1,null,"7da33e47",null);t["a"]=r.exports},"88cd":function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"myCheck"},[a("div",{staticClass:"nav"},[a("span",[e._v("创建时间")]),a("el-date-picker",{staticClass:"input_c",attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.cTime,callback:function(t){e.cTime=t},expression:"cTime"}}),a("span",[e._v("类型")]),a("bda-select",{staticClass:"input_c",attrs:{size:"small",filterable:"",clearable:"",placeholder:"请选择类型"},model:{value:e.type,callback:function(t){e.type=t},expression:"type"}},e._l(e.form.typeList,(function(e){return a("bda-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),a("span",[e._v("状态")]),a("bda-select",{staticClass:"input_c",attrs:{size:"small",filterable:"",clearable:"",placeholder:"请选择状态"},model:{value:e.status,callback:function(t){e.status=t},expression:"status"}},e._l(e.form.statusList,(function(e){return a("bda-option",{key:e.value,attrs:{label:e.name,value:e.value}})})),1),a("bda-button",{on:{click:e.getDatas}},[e._v("查询")])],1),a("div",{staticStyle:{height:"calc(100% - 20px)"}},[a("element-bda-table-page",e._b({directives:[{name:"loading",rawName:"v-loading",value:e.dsLoading,expression:"dsLoading"}],attrs:{"element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",columnArray:e.majorCol,pageSize:e.pagesRs.pageSize,pageNo:e.pagesRs.pageNo,total:e.pagesRs.total},on:{getRow:e.getMajorRow,linkRow:e.linkRowClick,getPageNo:e.changePageNo,getPageSize:e.changePageSize}},"element-bda-table-page",e._d({},[e.tableData,e.majorArray])))],1)])},l=[],i=(a("7f7f"),a("60ee")),o=a("8986"),s=a("db49"),r={name:"myCheck",mixins:[o["a"]],components:{elementBdaTablePage:i["a"]},props:[],data:function(){return{form:{typeList:[{name:"新增",value:"新增"},{name:"修改",value:"修改"},{name:"删除",value:"删除"},{name:"停用",value:"停用"},{name:"启用",value:"启用"}],statusList:[{name:"审核不通过",value:"0"},{name:"待审核",value:"1"},{name:"审核通过",value:"2"},{name:"已撤销",value:"-1"},{name:"已废除",value:"-2"}]},tableData:"tableData",majorArray:[],majorCol:[],dsLoading:!1,pagesRs:{pageNo:1,pageSize:10,total:0},keyWords:"",cTime:"",status:"",type:""}},mounted:function(){this.getDatas()},created:function(){this.getDepartment()},watch:{},methods:{getDepartment:function(){var e=this;this.department({}).then((function(t){e.departmentArray=t||[]}))},departmentChange:function(e){for(var t=0;t<this.departmentArray.length;t++)if(e===this.departmentArray[t].code)return void(this.dynamicValidateForm.departmentName=this.departmentArray[t].name)},changePageNo:function(e){this.pagesRs.pageNo=e,this.getDatas()},changePageSize:function(e){this.pagesRs.pageSize=e,this.getDatas()},getMajorRow:function(e,t){"审核"===t&&this.handleAuditRule(e),window.console.log(e,t)},handleAuditRule:function(e){var t=this;this.auditRule({ruleId:e.ruleId}).then((function(){t.getDatas(),t.$message.success("审核通过")}))},linkRowClick:function(e,t){window.console.log(e,t),window.open(s["b"]+"/rule/file/download?fileName="+t.fileName+"&filePath="+t.filePath)},getDatas:function(){var e=this;this.dsLoading=!0,this.majorCol=[{prop:"ruleName",label:"规则名称"},{prop:"ruleType",label:"规则分类"},{prop:"department",label:"归口部门"},{prop:"ywjd",label:"业务流程阶段"},{prop:"ywsx",label:"业务事项"},{prop:"riskLevel",label:"风险等级"},{prop:"zrgw",label:"责任岗位"},{prop:"ruleObj",label:"规则实例名"},{prop:"wjtwsy",label:"文件条文索引"},{prop:"files",label:"关联知识库",type:"link",key:"documentId"},{prop:"isOpen",label:"是否启用"},{prop:"statusType",label:"状态"},{type:"operate",linkName:["审核"],label:"操作",width:"120"}],this.queryRuleList({current:this.pagesRs.pageNo,size:this.pagesRs.pageSize,keyword:this.keyWords,auditStatus:"1"}).then((function(t){e.pagesRs.total=t.records,e.majorArray=t.rows.filter((function(e){return 1===e.isOpen?e.isOpen="是":e.isOpen="否"})),e.majorArray=e.majorArray.filter((function(e){return 1===e.statusType?e.statusType="待审核":e.statusType="其他"}))})).finally((function(){e.dsLoading=!1}))}}},u=r,c=(a("36c1"),a("2877")),p=Object(c["a"])(u,n,l,!1,null,"4ab51bfc",null);t["default"]=p.exports},b5ca:function(e,t,a){},d578:function(e,t,a){},ffc9:function(e,t,a){"use strict";var n=a("b5ca"),l=a.n(n);l.a}}]);
//# sourceMappingURL=chunk-4768a34c.376205fa.js.map