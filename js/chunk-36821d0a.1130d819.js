(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-36821d0a","chunk-484dae40"],{"018b":function(t,e,a){t.exports=a.p+"img/qwqx.14f6717b.png"},1660:function(t,e,a){t.exports=a.p+"img/ybqx.fb85e368.png"},4574:function(t,e,a){},"55fe":function(t,e,a){t.exports=a.p+"img/zdqx.856ba1c8.png"},"56c1":function(t,e,a){"use strict";var l=a("ce99"),i=a.n(l);i.a},8296:function(t,e,a){t.exports=a.p+"img/jdqx.6bc9e4a2.png"},ab42:function(t,e,a){"use strict";var l=a("4574"),i=a.n(l);i.a},b770:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:"1"===t.$root.themeHomeChange?"table-defect_light":"table-defect"},[a("div",{staticClass:"header"},[a("el-button",{staticClass:"btn",on:{click:t.goHome}},[t._v("返回")]),a("span",{staticClass:"title"},[t._v("生成报告")]),a("el-button",{staticClass:"generateBtn",attrs:{type:"primary"},on:{click:t.generateCheckList}},[t._v("生成报告")])],1),a("div",{staticClass:"selectBox"},[a("div",{staticClass:"title"},[t._v("查询条件")]),a("el-form",{attrs:{inline:!0,model:t.params}},[a("el-form-item",{attrs:{label:"开始时间: "}},[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date",size:"mini",placeholder:"请选择",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.params.startTime,callback:function(e){t.$set(t.params,"startTime",e)},expression:"params.startTime"}})],1),a("el-form-item",{attrs:{label:"结束时间: "}},[a("el-date-picker",{staticStyle:{width:"180px"},attrs:{type:"date",size:"mini",placeholder:"请选择",format:"yyyy 年 MM 月 dd 日","value-format":"yyyy-MM-dd"},model:{value:t.params.endTime,callback:function(e){t.$set(t.params,"endTime",e)},expression:"params.endTime"}})],1),a("el-form-item",{attrs:{label:"责任部门: "}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择",clearable:""},model:{value:t.params.zrbm,callback:function(e){t.$set(t.params,"zrbm",e)},expression:"params.zrbm"}},[a("el-option",{attrs:{label:"办公室",value:"办公室"}}),a("el-option",{attrs:{label:"合规与监审部",value:"合规与监审部"}}),a("el-option",{attrs:{label:"系统规划部",value:"系统规划部"}}),a("el-option",{attrs:{label:"资产管理部",value:"资产管理部"}}),a("el-option",{attrs:{label:"市场营销部",value:"市场营销部"}}),a("el-option",{attrs:{label:"安全监管部",value:"安全监管部"}}),a("el-option",{attrs:{label:"人力资源部",value:"人力资源部"}}),a("el-option",{attrs:{label:"党建工作部",value:"党建工作部"}}),a("el-option",{attrs:{label:"创新与数字化部",value:"创新与数字化部"}}),a("el-option",{attrs:{label:"财务部",value:"财务部"}})],1)],1),a("el-form-item",{attrs:{label:"项目类型: "}},[a("el-select",{staticStyle:{width:"150px"},attrs:{size:"mini",placeholder:"请选择"},model:{value:t.params.xmlx,callback:function(e){t.$set(t.params,"xmlx",e)},expression:"params.xmlx"}},[a("el-option",{attrs:{label:"迁改项目",value:"迁改项目"}})],1)],1),a("el-form-item",{staticStyle:{"margin-left":"20px"}},[a("el-button",{attrs:{type:"primary",size:"mini"}},[t._v("查询")])],1)],1)],1),a("div",{staticClass:"tagBox"},[a("div",{staticClass:"title"},[t._v("缺陷数量")]),a("div",{staticClass:"content"},t._l(t.tagList,(function(e,l){return a("el-row",{key:l,class:"item "+e.class},[a("el-col",{attrs:{span:4}},[a("img",{attrs:{src:e.imgUrl}})]),a("el-col",{staticClass:"msg",attrs:{span:20}},[a("p",{staticClass:"label"},[t._v(t._s(e.label))]),a("p",[t._v("\n            "+t._s(e.num)+"\n            "),a("span",{staticStyle:{"font-size":"12px"}},[t._v("个")])])])],1)})),1)]),a("div",{staticClass:"content"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.tableData,height:t.tableHeight,"tooltip-effect":"light"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55",align:"center"}}),a("el-table-column",{attrs:{type:"index",label:"序号",width:"60",align:"center"}}),a("el-table-column",{attrs:{prop:"id",label:"缺陷ID",width:"100",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"qxdj",label:"缺陷等级",width:"80",align:"center"}}),a("el-table-column",{attrs:{prop:"rules",label:"涉及检验逻辑",width:"130",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"sjzd",label:"涉及制度","min-width":"160",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"explain",label:"说明","min-width":"140",align:"center","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"zrr",label:"责任人",width:"85",align:"center","show-overflow-tooltip":""}})],1),a("el-pagination",{attrs:{"current-page":t.params.currentPage,"page-sizes":[10,50,100,200],"page-size":t.params.pageSize,background:"",layout:"prev, pager, next, sizes, jumper, total",total:t.tableData.length},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1),a("msgDialog",{ref:"msgDialog",attrs:{title:"生成报告",content:"\n      <i class='el-icon-warning' style='font-size: 16px; color: orange;'></i> \n      此操作将生成已勾选的 "+this.multipleSelection.length+" 条数据, 是否继续?\n    "},on:{confirm:t.generateConfirm}})],1)},i=[],n=(a("6762"),a("2fdb"),a("ac6a"),a("c1df")),s=a.n(n),o=a("ba74"),r={name:"table-defect",components:{msgDialog:o["default"]},props:{title:{type:String,default:function(){return"智能组件"}},data:{type:Array,default:function(){return[]}}},data:function(){return{tableHeight:window.innerHeight-370,tagList:[{imgUrl:a("55fe"),label:"重大缺陷",num:0,class:"zdqxTag"},{imgUrl:a("8296"),label:"较大缺陷",num:0,class:"jdqxTag"},{imgUrl:a("1660"),label:"一般缺陷",num:0,class:"ybqxTag"},{imgUrl:a("018b"),label:"轻微缺陷",num:0,class:"qwqxTag"}],params:{startTime:"",endTime:"",pageSize:10,currentPage:1},multipleSelection:[],tableData:[{id:"43212351",qxdj:"重大",rules:"工作许可人不相容分析",sjzd:"《中国南方电网有限责任公司电力安全工作规程》6.3.1.8 b",explain:"工作票签发人可由工作许可人兼任，但工作许可人和工作负责人不得相互兼任。除b）情况外，工作许可人不应签发工作票或担任工作班成员。",zrr:"陈小明"},{id:"43212352",qxdj:"重大",rules:"动火工作票签发人不相容分析",sjzd:"《中国南方电网有限责任公司电力安全工作规程》24.3.6.3",explain:"动火工作票签发人不得兼任动火工作负责人。",zrr:"杨伍"},{id:"43212353",qxdj:"较大",rules:"工作票签发人不相容分析",sjzd:"《中国南方电网有限责任公司电力安全工作规程》6.3.1.8",explain:"工作票签发人不应兼任该项工作的工作负责人。",zrr:"江小七"},{id:"43212354",qxdj:"较大",rules:"动火工作监护人不相容分析",sjzd:"《中国南方电网有限责任公司电力安全工作规程》24.3.6.3",explain:"动火工作票审批人、动火工作监护人不得签发动火工作票。",zrr:"陆小玖"},{id:"43212354",qxdj:"重大",rules:"工作许可人不相容分析",sjzd:"《中国南方电网有限责任公司电力安全工作规程》6.3.1.8 b",explain:"工作票签发人可由工作许可人兼任，但工作许可人和工作负责人不得相互兼任。除b）情况外，工作许可人不应签发工作票或担任工作班成员。",zrr:"江哲"},{id:"43212355",qxdj:"较大",rules:"工作票签发人不相容分析",sjzd:"《中国南方电网有限责任公司电力安全工作规程》6.3.1.8",explain:"工作票签发人不应兼任该项工作的工作负责人。",zrr:"陆小七"},{id:"43212356",qxdj:"较大",rules:"动火工作监护人不相容分析",sjzd:"《中国南方电网有限责任公司电力安全工作规程》24.3.6.3",explain:"动火工作票审批人、动火工作监护人不得签发动火工作票。",zrr:"陈虾"},{id:"43212357",qxdj:"较大",rules:"工作票签发人不相容分析",sjzd:"《中国南方电网有限责任公司电力安全工作规程》6.3.1.8",explain:"工作票签发人不应兼任该项工作的工作负责人。",zrr:"江瑞"},{id:"43212358",qxdj:"较大",rules:"动火工作监护人不相容分析",sjzd:"《中国南方电网有限责任公司电力安全工作规程》24.3.6.3",explain:"动火工作票审批人、动火工作监护人不得签发动火工作票。",zrr:"周星锐"}]}},mounted:function(){},created:function(){this.initData()},watch:{tableData:function(t){this.getTagData(t)}},methods:{initData:function(){var t=new Date,e=(new Date).setMonth(t.getMonth()-2);this.params.startTime=s()(e).format("YYYY-MM-DD"),this.params.endTime=s()(t).format("YYYY-MM-DD"),this.getTagData(this.tableData)},getTagData:function(t){this.tagList.forEach((function(e){e.num=t.filter((function(t){return e.label.includes(t.qxdj)})).length}))},goHome:function(){this.$router.push({path:"/tableReportView",query:{index:"5-2",actNav:this.$route.query.actNav}})},handleSizeChange:function(t){window.console.log("每页 ".concat(t," 条"))},handleCurrentChange:function(t){window.console.log("当前页: ".concat(t))},handleSelectionChange:function(t){this.multipleSelection=t},generateCheckList:function(){if(0===this.multipleSelection.length)return this.$message({message:"暂无勾选内容，请勾选所要生成报告的数据 !",type:"warning"}),!1;this.$refs["msgDialog"].openDialog()},generateConfirm:function(){this.$message({type:"success",message:"报告生成中!  请稍后..."}),window.console.log("生成数据为：",this.multipleSelection)}}},c=r,u=(a("ab42"),a("2877")),p=Object(u["a"])(c,l,i,!1,null,"2de79e2c",null);e["default"]=p.exports},ba74:function(t,e,a){"use strict";a.r(e);var l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-dialog",{class:"1"===t.$root.themeHomeChange?"msgDialog_light":"msgDialog",attrs:{title:"提示",visible:t.dialogVisible,modal:!1},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("div",{domProps:{innerHTML:t._s(t.content)}}),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){return t.closeDialog()}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.sureDialog()}}},[t._v("确 定")])],1)])},i=[],n={components:{},props:{title:{type:String,default:function(){return"提示"}},content:{type:String,default:function(){return"此操作将 XXX ，是否继续？"}}},data:function(){return{dialogVisible:!1}},watch:{},computed:{},methods:{openDialog:function(){this.dialogVisible=!0},closeDialog:function(){this.dialogVisible=!1,this.$emit("close")},sureDialog:function(){this.$emit("confirm"),this.closeDialog()}}},s=n,o=(a("56c1"),a("2877")),r=Object(o["a"])(s,l,i,!1,null,"5d7bac9c",null);e["default"]=r.exports},ce99:function(t,e,a){}}]);
//# sourceMappingURL=chunk-36821d0a.1130d819.js.map