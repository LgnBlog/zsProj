{"version":3,"sources":["webpack:///./src/views/companyCenter/component/manage/dialog/historyDoc.vue?783e","webpack:///./src/views/companyCenter/component/manage/dialog/historyDoc.vue?4206","webpack:///src/views/companyCenter/component/manage/dialog/historyDoc.vue","webpack:///./src/views/companyCenter/component/manage/dialog/historyDoc.vue?c569","webpack:///./src/views/companyCenter/component/manage/dialog/historyDoc.vue","webpack:///./src/views/companyCenter/component/manage/dialog/importDoc.vue?7a36","webpack:///./src/components/table/fileUpload.vue?89ee","webpack:///./src/views/companyCenter/component/manage/dialog/importDoc.vue?852e","webpack:///src/views/companyCenter/component/manage/dialog/importDoc.vue","webpack:///./src/views/companyCenter/component/manage/dialog/importDoc.vue?df29","webpack:///./src/views/companyCenter/component/manage/dialog/importDoc.vue","webpack:///./src/components/table/fileUpload.vue?a97b","webpack:///src/components/table/fileUpload.vue","webpack:///./src/components/table/fileUpload.vue?9ac2","webpack:///./src/components/table/fileUpload.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","dialogVisible","on","closeDialog","class","$root","themeHomeChange","directives","name","rawName","value","expression","staticStyle","tableData","scopedSlots","_u","key","fn","scope","_v","_s","row","isLatest","$event","dowmFile","staticClass","slot","staticRenderFns","component","knowledgeName","handleZskVersion","model","callback","$$v","zskVersion","fileData","fileUrl","handleChange","beforeAvatarUpload","handleAvatarSuccess","fileList","handleVersion","$set","handleComment","uploadVs","queryHistoryV","handleDelete","ref","historyFileData","fileUpSuccess","_e","mixins","components","historyDoc","fileUpload","data","hidden","radioValue","knowledgeId","documentId","documentTypeName","showFileUp","downUrl","fileTableLoading","mounted","methods","openDialog","knowledgeType","version","getList","getVersionList","$parent","getDocumentQuery","showVs","sureDialog","$confirm","confirmButtonText","cancelButtonText","type","filePath","res","message","$message","success","slice","window","location","href","v","versionUpdate","documentVersion","warning","comment","$refs","historyVersion","getHistoryList","versionUpdates","knowledgeVersion","$nextTick","fileName"],"mappings":"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","file":"js/chunk-74e76712.ae0ea1c9.js","sourcesContent":["import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./historyDoc.vue?vue&type=style&index=0&id=a9e39dd0&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./historyDoc.vue?vue&type=style&index=0&id=a9e39dd0&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bda-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"modal\":false,\"close-on-click-modal\":false,\"show-close\":false,\"title\":\"历史文件及版本\"},on:{\"cancel\":_vm.closeDialog}},[_c('div',{class:_vm.$root.themeHomeChange === '1' ?'dialogBoxLs':'dialogBox'},[_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.fileTableLoading),expression:\"fileTableLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"data\":_vm.tableData,\"height\":\"320\"}},[_c('el-table-column',{attrs:{\"label\":\"文档名称\",\"prop\":\"documentName\"}}),_c('el-table-column',{attrs:{\"label\":\"版本号\",\"prop\":\"version\",\"width\":\"80\"}}),_c('el-table-column',{attrs:{\"label\":\"上传用户\",\"prop\":\"uploadUser\",\"width\":\"120\"}}),_c('el-table-column',{attrs:{\"label\":\"上传时间\",\"prop\":\"uploadTime\"}}),_c('el-table-column',{attrs:{\"label\":\"是否最新版本\",\"width\":\"130\",\"prop\":\"isLatest\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n                    \"+_vm._s(scope.row.isLatest==='1'?'是':'否')+\"\\n                \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"说明\",\"width\":\"200\",\"prop\":\"comment\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"100\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-right\":\"10px\",\"color\":\"#66b9ff\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.dowmFile(scope.row)}}},[_vm._v(\"下载\")])]}}])})],1)],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('bda-button',{attrs:{\"bdatype\":\"defualt\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\"关闭\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <bda-dialog\r\n        :visible=\"dialogVisible\"\r\n        :modal=\"false\"\r\n        :close-on-click-modal=\"false\"\r\n        :show-close=\"false\"\r\n        @cancel=\"closeDialog\"\r\n        title=\"历史文件及版本\"\r\n    >\r\n        <div :class=\"$root.themeHomeChange === '1' ?'dialogBoxLs':'dialogBox'\">\r\n            <el-table\r\n                element-loading-text=\"拼命加载中\"\r\n                element-loading-spinner=\"el-icon-loading\"\r\n                element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n                :data=\"tableData\"\r\n                style=\"width: 100%\"\r\n                v-loading=\"fileTableLoading\"\r\n                height=\"320\">\r\n                <el-table-column label=\"文档名称\" prop=\"documentName\" >\r\n                </el-table-column>\r\n                <el-table-column label=\"版本号\" prop=\"version\" width=\"80\">\r\n                </el-table-column>\r\n                <el-table-column label=\"上传用户\" prop=\"uploadUser\" width=\"120\">\r\n                </el-table-column>\r\n                <el-table-column label=\"上传时间\"  prop=\"uploadTime\">\r\n                </el-table-column>\r\n                <el-table-column label=\"是否最新版本\" width=\"130\" prop=\"isLatest\">\r\n                    <template slot-scope=\"scope\">\r\n                        {{scope.row.isLatest==='1'?'是':'否'}}\r\n                    </template>\r\n                </el-table-column>\r\n                <el-table-column label=\"说明\" width=\"200\" prop=\"comment\">\r\n                </el-table-column>\r\n                <el-table-column label=\"操作\" width=\"100\">\r\n                    <template slot-scope=\"scope\">\r\n                        <span style=\"margin-right: 10px; color: #66b9ff;cursor: pointer\" @click=\"dowmFile(scope.row)\">下载</span>\r\n                    </template>\r\n                </el-table-column>\r\n            </el-table>\r\n        </div>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <bda-button bdatype=\"defualt\" @click=\"closeDialog\">关闭</bda-button>\r\n        </span>\r\n    </bda-dialog>\r\n</template>\r\n\r\n<script>\r\n\r\n  import Interface from \"../../../../../base/mixin/enterprise-manage-center\";\r\n  import {\r\n    API_PATH\r\n  } from '@/config'\r\n  export default {\r\n    name: \"historyDoc\",\r\n    mixins: [Interface],\r\n    data(){\r\n      return {\r\n        fileTableLoading:false,\r\n        dialogVisible:false,\r\n        tableData:[],\r\n        downUrl:API_PATH+'/knowledge/file/download',\r\n      }\r\n    },\r\n    mounted() {\r\n    },\r\n    methods:{\r\n      /**\r\n       * @description:关闭弹框回调\r\n       */\r\n      closeDialog() {\r\n        this.dialogVisible = false;\r\n      },\r\n\r\n      //下载历史版本数据\r\n      getHistoryList(row){\r\n        this.fileTableLoading = true\r\n        this.historyVersionList({\r\n          historyDocumentId:row.documentId\r\n        }).then((res)=>{\r\n          this.tableData = res\r\n        }).finally(()=>{\r\n          this.fileTableLoading = false\r\n        })\r\n\r\n      },\r\n\r\n      //列表文件下载\r\n      dowmFile(v){\r\n        window.location.href = this.downUrl+'?documentId='+v.documentId+'&historyDocumentId='+v.documentHistoryId\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    /deep/ {\r\n        /*修改添加规则弹窗 */\r\n        .el-dialog {\r\n            width: 1200px;\r\n            height: 520px;\r\n            background: #1f2c4d;\r\n            border: 1px solid #4389f9;\r\n            border-radius: 4px;\r\n\r\n            .el-dialog__header {\r\n                border-bottom: 1px solid #4389f9 !important;\r\n                height: 48px !important;\r\n\r\n                .bda-dialog-header .bda-dialog-header-title {\r\n                    font-family: MicrosoftYaHei-Bold;\r\n                    font-size: 16px !important;\r\n                    color: #ffffff !important;\r\n                    line-height: 48px;\r\n                    font-weight: 700;\r\n                }\r\n            }\r\n\r\n            .bda-dialog-body-main {\r\n                height: 418px !important;\r\n            }\r\n\r\n            .el-dialog__footer {\r\n                border-top: 1px solid #4389f9 !important;\r\n                height: 53px !important;\r\n\r\n                .dialog-footer {\r\n                    display: block;\r\n                    height: 100%;\r\n                    padding: 11px 20px;\r\n                    box-sizing: border-box;\r\n                }\r\n            }\r\n        }\r\n\r\n        .dialogBox{\r\n            .el-table {\r\n                padding-top: 20px;\r\n                background-color: #1f2c4d !important;\r\n                &::before {\r\n                    background: #0065b3;\r\n                }\r\n                .has-gutter {\r\n                    > tr {\r\n                        > th {\r\n                            background-color: #1f2c4d !important;\r\n                            border-color: #0065b3;\r\n                            .cell {\r\n                                color: #ffffff;\r\n                                text-align: left;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                .el-table__body {\r\n                    .el-table__row {\r\n                        height: 52px;\r\n                        background-color: #1f2c4d !important;\r\n                        &:hover > td {\r\n                            background-color: rgba(#0065b3, 0.3) !important;\r\n                        }\r\n\r\n                        > td {\r\n                            border-color: #0065b3;\r\n\r\n                            .el-radio__inner {\r\n                                background: #041338 !important;\r\n                                border: 1px solid #4389f9;\r\n                            }\r\n                            .cell {\r\n                                color: #ffffff;\r\n                                .el-input__inner {\r\n                                    color: #4389f9;\r\n                                    height: 28px;\r\n                                    background: transparent;\r\n                                    border-width: 0 0 1px 0 !important;\r\n                                    border-color: #4389f9;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        .dialogBoxLs{\r\n            .el-table{\r\n                padding-top: 20px;\r\n                background-color: #ffffff !important;\r\n                &::before {\r\n                    background: #cccccc;\r\n                }\r\n                .has-gutter {\r\n                    > tr {\r\n                        > th{\r\n                            background-color: #ffffff !important;\r\n                            border-color: #cccccc;\r\n                            .cell {\r\n                                color: #333333;\r\n                                text-align: left;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n                .el-table__body {\r\n                    .el-table__row {\r\n                        height: 52px;\r\n                        background-color: #ffffff !important;\r\n                        &:hover > td {\r\n                            background-color: rgba(#0065b3, 0.3) !important;\r\n                        }\r\n\r\n                        > td {\r\n                            border-color: #cccccc;\r\n\r\n                            .el-radio__inner {\r\n                                background: #041338 !important;\r\n                                border: 1px solid #cccccc;\r\n                            }\r\n                            .cell {\r\n                                color: #333333;\r\n                                .el-input__inner {\r\n                                    color: #4389f9;\r\n                                    height: 28px;\r\n                                    background: transparent;\r\n                                    border-width: 0 0 1px 0 !important;\r\n                                    border-color: #cccccc;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./historyDoc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./historyDoc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./historyDoc.vue?vue&type=template&id=a9e39dd0&scoped=true&\"\nimport script from \"./historyDoc.vue?vue&type=script&lang=js&\"\nexport * from \"./historyDoc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./historyDoc.vue?vue&type=style&index=0&id=a9e39dd0&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"a9e39dd0\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./importDoc.vue?vue&type=style&index=0&id=97c680d2&lang=scss&scoped=true&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./importDoc.vue?vue&type=style&index=0&id=97c680d2&lang=scss&scoped=true&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fileUpload.vue?vue&type=style&index=0&id=94ef67d8&scoped=true&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fileUpload.vue?vue&type=style&index=0&id=94ef67d8&scoped=true&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('bda-dialog',{class:_vm.$root.themeHomeChange === '1' ?'dialogBoxL':'',attrs:{\"width\":\"80%\",\"show-close\":false,\"visible\":_vm.dialogVisible,\"modal\":false,\"close-on-click-modal\":false,\"title\":\"文件及版本管理\"},on:{\"cancel\":_vm.closeDialog}},[_c('div',{staticClass:\"dialogBox\"},[_c('div',{staticClass:\"zskClass\"},[_c('span',{staticClass:\"name\",attrs:{\"title\":_vm.knowledgeName}},[_vm._v(\"知识库名称：\"+_vm._s(_vm.knowledgeName))]),_c('span',{staticStyle:{\"color\":\"#ffffff\"}},[_vm._v(\"版本号：\")]),_c('bda-input',{staticClass:\"bbh_input\",attrs:{\"clearable\":\"\",\"placeholder\":\"版本号\"},on:{\"change\":_vm.handleZskVersion},model:{value:(_vm.zskVersion),callback:function ($$v) {_vm.zskVersion=$$v},expression:\"zskVersion\"}})],1),_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"data\":_vm.fileData,\"name\":\"files\",\"action\":_vm.fileUrl,\"on-change\":_vm.handleChange,\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.handleAvatarSuccess,\"file-list\":_vm.fileList}},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"}},[_vm._v(\"点击上传\")])],1)],1),_c('el-table',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.fileTableLoading),expression:\"fileTableLoading\"}],staticStyle:{\"width\":\"100%\"},attrs:{\"element-loading-text\":\"拼命加载中\",\"element-loading-spinner\":\"el-icon-loading\",\"element-loading-background\":\"rgba(0, 0, 0, 0.8)\",\"data\":_vm.tableData,\"height\":\"320\"}},[_c('el-table-column',{attrs:{\"label\":\"文档名称\",\"prop\":\"documentName\"}}),_c('el-table-column',{attrs:{\"label\":\"版本号\",\"width\":\"120\",\"prop\":\"version\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('bda-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入\"},on:{\"change\":function($event){return _vm.handleVersion(scope.row)}},model:{value:(scope.row.version),callback:function ($$v) {_vm.$set(scope.row, \"version\", $$v)},expression:\"scope.row.version\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"上传用户\",\"width\":\"90\",\"prop\":\"uploader\"}}),_c('el-table-column',{attrs:{\"label\":\"最新上传时间\",\"width\":\"130\",\"prop\":\"uploadTime\"}}),_c('el-table-column',{attrs:{\"label\":\"是否最新版本\",\"width\":\"120\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_vm._v(\"\\n            \"+_vm._s(scope.row.isLatest===1?'是':'否')+\"\\n          \")]}}])}),_c('el-table-column',{attrs:{\"label\":\"说明\",\"width\":\"190\",\"prop\":\"comment\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('bda-input',{attrs:{\"clearable\":\"\",\"placeholder\":\"请输入\"},on:{\"change\":function($event){return _vm.handleComment(scope.row)}},model:{value:(scope.row.comment),callback:function ($$v) {_vm.$set(scope.row, \"comment\", $$v)},expression:\"scope.row.comment\"}})]}}])}),_c('el-table-column',{attrs:{\"label\":\"操作\",\"width\":\"320\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('span',{staticStyle:{\"margin-right\":\"10px\",\"color\":\"#66b9ff\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.dowmFile(scope.row)}}},[_vm._v(\"下载\")]),_c('span',{staticStyle:{\"margin-right\":\"10px\",\"color\":\"#66b9ff\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.uploadVs(scope.row)}}},[_vm._v(\"上传最新版本\")]),_c('span',{staticStyle:{\"margin-right\":\"10px\",\"color\":\"#66b9ff\",\"cursor\":\"pointer\"},on:{\"click\":function($event){return _vm.queryHistoryV(scope.row)}}},[_vm._v(\"历史版本查看\")]),_c('span',{staticStyle:{\"display\":\"inline-block\",\"cursor\":\"pointer\",\"color\":\"#66b9ff\"},on:{\"click\":function($event){return _vm.handleDelete(scope.row)}}},[_vm._v(\"删除\")])]}}])})],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('bda-button',{attrs:{\"bdatype\":\"defualt\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\"关闭\")])],1)],1),_c('history-doc',{ref:\"historyVersion\"}),(_vm.showFileUp)?_c('file-upload',{ref:\"fileUpload\",attrs:{\"url\":'/knowledge/file/upload',\"fileData\":_vm.historyFileData},on:{\"upLoadSuccess\":_vm.fileUpSuccess}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n<!--    @close=\"closeDialog\"-->\r\n    <bda-dialog\r\n        width=\"80%\"\r\n        :show-close=\"false\"\r\n        :visible=\"dialogVisible\"\r\n        :modal=\"false\"\r\n        :close-on-click-modal=\"false\"\r\n        @cancel=\"closeDialog\"\r\n        title=\"文件及版本管理\"\r\n        :class=\"$root.themeHomeChange === '1' ?'dialogBoxL':''\"\r\n    >\r\n      <div class=\"dialogBox\">\r\n        <div class=\"zskClass\">\r\n          <span class=\"name\" :title=\"knowledgeName\">知识库名称：{{knowledgeName}}</span>\r\n          <span style=\"color: #ffffff\">版本号：</span>\r\n          <bda-input\r\n              class=\"bbh_input\"\r\n              v-model=\"zskVersion\"\r\n              clearable\r\n              placeholder=\"版本号\"\r\n              @change=\"handleZskVersion\"\r\n          ></bda-input>\r\n        </div>\r\n        <el-upload\r\n            class=\"upload-demo\"\r\n            :data=\"fileData\"\r\n            name=\"files\"\r\n            :action=\"fileUrl\"\r\n            :on-change=\"handleChange\"\r\n            :before-upload=\"beforeAvatarUpload\"\r\n            :on-success=\"handleAvatarSuccess\"\r\n            :file-list=\"fileList\">\r\n          <el-button size=\"small\" type=\"primary\">点击上传</el-button>\r\n        </el-upload>\r\n      </div>\r\n      <el-table\r\n          element-loading-text=\"拼命加载中\"\r\n          element-loading-spinner=\"el-icon-loading\"\r\n          element-loading-background=\"rgba(0, 0, 0, 0.8)\"\r\n          :data=\"tableData\"\r\n          style=\"width: 100%\"\r\n          v-loading=\"fileTableLoading\"\r\n          height=\"320\">\r\n        <el-table-column label=\"文档名称\" prop=\"documentName\">\r\n        </el-table-column>\r\n        <el-table-column label=\"版本号\" width=\"120\" prop=\"version\">\r\n          <template slot-scope=\"scope\">\r\n            <bda-input\r\n                v-model=\"scope.row.version\"\r\n                clearable\r\n                placeholder=\"请输入\"\r\n                @change=\"handleVersion(scope.row)\"\r\n            ></bda-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"上传用户\" width=\"90\" prop=\"uploader\">\r\n        </el-table-column>\r\n        <el-table-column label=\"最新上传时间\" width=\"130\" prop=\"uploadTime\">\r\n        </el-table-column>\r\n        <el-table-column label=\"是否最新版本\" width=\"120\">\r\n          <template slot-scope=\"scope\">\r\n            {{scope.row.isLatest===1?'是':'否'}}\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"说明\" width=\"190\" prop=\"comment\">\r\n          <template slot-scope=\"scope\">\r\n            <bda-input\r\n                v-model=\"scope.row.comment\"\r\n                clearable\r\n                @change=\"handleComment(scope.row)\"\r\n                placeholder=\"请输入\"\r\n            ></bda-input>\r\n          </template>\r\n        </el-table-column>\r\n        <el-table-column label=\"操作\" width=\"320\">\r\n          <template slot-scope=\"scope\">\r\n            <span style=\"margin-right: 10px; color: #66b9ff;cursor: pointer\" @click=\"dowmFile(scope.row)\">下载</span>\r\n            <span style=\"margin-right: 10px; color: #66b9ff;cursor: pointer\" @click=\"uploadVs(scope.row)\">上传最新版本</span>\r\n            <span style=\"margin-right: 10px; color: #66b9ff;cursor: pointer\" @click=\"queryHistoryV(scope.row)\">历史版本查看</span>\r\n            <span\r\n                style=\"display: inline-block; cursor: pointer; color: #66b9ff\"\r\n                @click=\"handleDelete(scope.row)\"\r\n            >删除</span\r\n            >\r\n          </template>\r\n        </el-table-column>\r\n      </el-table>\r\n      <span slot=\"footer\" class=\"dialog-footer\">\r\n<!--      <bda-button bdatype=\"primary\" @click=\"sureDialog\">保存</bda-button>-->\r\n      <bda-button bdatype=\"defualt\" @click=\"closeDialog\">关闭</bda-button>\r\n    </span>\r\n    </bda-dialog>\r\n    <history-doc\r\n        ref=\"historyVersion\"\r\n    ></history-doc>\r\n    <file-upload\r\n        :url=\"'/knowledge/file/upload'\"\r\n        ref=\"fileUpload\"\r\n        :fileData=\"historyFileData\"\r\n        v-if=\"showFileUp\"\r\n        @upLoadSuccess=\"fileUpSuccess\"\r\n    ></file-upload>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Interface from \"../../../../../base/mixin/enterprise-manage-center\";\r\nimport historyDoc from \"./historyDoc\";\r\nimport fileUpload from \"../../../../../components/table/fileUpload\";\r\nimport {\r\n  API_PATH\r\n} from '@/config'\r\nexport default {\r\n  mixins: [Interface],\r\n  components:{\r\n    historyDoc,\r\n    fileUpload\r\n  },\r\n  data() {\r\n    return {\r\n      hidden: \"\",\r\n      dialogVisible: false, //弹框显隐\r\n      radioValue: \"\", //版本状态\r\n      tableData: [],\r\n      knowledgeId :'',//知识库id\r\n      knowledgeName :'',//知识库名称\r\n      zskVersion :'',//知识库版本号\r\n      documentId:'',//部门id\r\n\r\n      fileData:{\r\n        documentTypeName:'',//中文\r\n        knowledgeId:'',\r\n      },\r\n      historyFileData:{\r\n        documentTypeName:'',//中文\r\n        documentId:'',\r\n        knowledgeId:'',\r\n      },\r\n      showFileUp:false,\r\n      downUrl:API_PATH+'/knowledge/file/download',\r\n      fileUrl:API_PATH+'/knowledge/file/upload',\r\n      fileList:[],\r\n      fileTableLoading:false,\r\n    };\r\n  },\r\n  mounted() {\r\n  },\r\n\r\n  methods: {\r\n    /**\r\n     * @description:打开弹框回调\r\n     */\r\n    openDialog(row) {\r\n      //文件上传参数\r\n      this.fileData.documentTypeName = row.knowledgeType||''\r\n      this.fileData.knowledgeId = row.knowledgeId||''\r\n      this.zskVersion = row.version||''\r\n      this.knowledgeName = row.knowledgeName||''\r\n      this.documentId = row.documentId||''\r\n\r\n      //历史版本文件参数historyFileData\r\n      this.historyFileData.documentTypeName = row.knowledgeType||''\r\n      //查询参数\r\n      this.knowledgeId  = row.knowledgeId //知识库id\r\n      this.getList()\r\n      if (this.dialogVisible===false){\r\n        this.dialogVisible = true;\r\n      }\r\n    },\r\n    //导入成功钩子  参数res\r\n    fileUpSuccess(){\r\n      this.getList()\r\n    },\r\n    //获取文件列表\r\n    getList(){\r\n      this.fileTableLoading = true\r\n      this.getVersionList({\r\n        knowledgeId :this.knowledgeId\r\n      }).then((res)=>{\r\n        this.tableData = res\r\n      }).finally(()=>{\r\n        this.fileTableLoading = false\r\n      })\r\n    },\r\n\r\n    /**\r\n     * @description:关闭弹框回调\r\n     */\r\n    closeDialog() {\r\n      this.$parent.getDocumentQuery()\r\n      this.$parent.showVs = false\r\n      this.dialogVisible = false;\r\n    },\r\n\r\n    /**\r\n     * @description:确定弹框回调\r\n     */\r\n    sureDialog() {\r\n      this.dialogVisible = false;\r\n    },\r\n\r\n    // handleEdit(index, row) {\r\n    //   window.console.log(index, row);\r\n    // },\r\n    handleDelete( row) {\r\n      this.$confirm('此操作将永久删除该文件, 是否继续?', '提示', {\r\n        confirmButtonText: '确定',\r\n        cancelButtonText: '取消',\r\n        type: 'warning'\r\n      }).then(() => {\r\n        this.versionDelete({\r\n          documentId :row.documentId,\r\n          filePath:row.filePath,\r\n          knowledgeId:row.knowledgeId,\r\n        }).then((res)=>{\r\n          if (res){\r\n            this.$message({\r\n              type: 'success',\r\n              message: '删除成功!'\r\n            });\r\n            this.getList()\r\n          }\r\n        }).finally(()=>{\r\n        })\r\n      }).catch(() => {\r\n        this.$message({\r\n          type: 'info',\r\n          message: '已取消删除'\r\n        });\r\n      });\r\n    },\r\n\r\n    //文件上传成功钩子\r\n    handleAvatarSuccess(res) {\r\n      if (res){\r\n        this.$message.success('上传成功')\r\n        this.getList()\r\n        this.$parent.getDocumentQuery()\r\n      }\r\n    },\r\n    //文件上传之前钩子\r\n    beforeAvatarUpload() {\r\n     return true\r\n    },\r\n    handleChange(file, fileList) {\r\n      this.fileList = fileList.slice(-1);\r\n    },\r\n\r\n    //列表文件下载\r\n    dowmFile(v){\r\n      window.location.href = this.downUrl+'?documentId='+v.documentId\r\n    },\r\n    //编辑版本\r\n    handleVersion(v){\r\n      if (!v.version){\r\n        this.$message.warning('请输入版本号')\r\n        return\r\n      }\r\n      this.versionUpdate({\r\n        documentId :v.documentId,\r\n        documentVersion:v.version,\r\n      }).then(()=>{\r\n      }).finally(()=>{\r\n      })\r\n    },\r\n    //编辑说明\r\n    handleComment(v){\r\n      this.versionUpdate({\r\n        comment :v.comment,\r\n        documentId :v.documentId,\r\n      }).then(()=>{\r\n      }).finally(()=>{\r\n      })\r\n    },\r\n    //获取历史版本\r\n    queryHistoryV(row){\r\n      this.$refs.historyVersion.dialogVisible = true\r\n      this.$refs.historyVersion.getHistoryList(row)\r\n    },\r\n    //编辑知识库版本号\r\n    handleZskVersion() {\r\n      this.versionUpdates({\r\n        knowledgeId: this.knowledgeId,\r\n        knowledgeVersion: this.zskVersion,\r\n      }).then(() => {\r\n      }).finally(() => {\r\n      })\r\n    },\r\n    //上传最新版本\r\n    uploadVs(row){\r\n      this.showFileUp = true\r\n      this.$nextTick(()=>{\r\n        //历史版本文件参数historyFileData\r\n        this.historyFileData.documentId = row.documentId||''\r\n        this.historyFileData.knowledgeId = row.knowledgeId||''\r\n        this.$refs.fileUpload.dialogVisible = true\r\n      })\r\n\r\n    }\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n  .dialogBox{\r\n    min-height: 100px;\r\n    .upload-demo{\r\n      flex: 1;\r\n    }\r\n    .zskClass{\r\n      text-align: center;\r\n      .name{\r\n        white-space:nowrap;\r\n        overflow:hidden;\r\n        text-overflow:ellipsis;\r\n        color: #ffffff;display: inline-block;width: 600px;\r\n        vertical-align: middle;\r\n        margin-right: 6px;\r\n        cursor: pointer;\r\n      }\r\n      .bbh_input{\r\n        width: 120px;\r\n      }\r\n    }\r\n  }\r\n/deep/ {\r\n  /*修改添加规则弹窗 */\r\n  .el-dialog {\r\n    width: 1200px;\r\n    background: #1f2c4d;\r\n    border: 1px solid #4389f9;\r\n    border-radius: 4px;\r\n\r\n    .el-dialog__header {\r\n      border-bottom: 1px solid #4389f9 !important;\r\n      height: 48px !important;\r\n\r\n      .bda-dialog-header .bda-dialog-header-title {\r\n        font-family: MicrosoftYaHei-Bold;\r\n        font-size: 16px !important;\r\n        color: #ffffff !important;\r\n        line-height: 48px;\r\n        font-weight: 700;\r\n      }\r\n    }\r\n\r\n    .bda-dialog-body-main {\r\n      min-height: 418px !important;\r\n    }\r\n\r\n    .el-dialog__footer {\r\n      border-top: 1px solid #4389f9 !important;\r\n      height: 53px !important;\r\n\r\n      .dialog-footer {\r\n        display: block;\r\n        height: 100%;\r\n        padding: 11px 20px;\r\n        box-sizing: border-box;\r\n      }\r\n    }\r\n  }\r\n\r\n  .el-table {\r\n    padding-top: 20px;\r\n    background-color: #1f2c4d !important;\r\n    &::before {\r\n      background: #0065b3;\r\n    }\r\n    .has-gutter {\r\n      > tr {\r\n        > th {\r\n          background-color: #1f2c4d !important;\r\n          border-color: #0065b3;\r\n          .cell {\r\n            color: #ffffff;\r\n            text-align: left;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    .el-table__body {\r\n      .el-table__row {\r\n        height: 52px;\r\n        background-color: #1f2c4d !important;\r\n        &:hover > td {\r\n          background-color: rgba(#0065b3, 0.3) !important;\r\n        }\r\n\r\n        > td {\r\n          border-color: #0065b3;\r\n\r\n          .el-radio__inner {\r\n            background: #041338 !important;\r\n            border: 1px solid #4389f9;\r\n          }\r\n          .cell {\r\n            color: #ffffff;\r\n            .el-input__inner {\r\n              color: #4389f9;\r\n              height: 28px;\r\n              background: transparent;\r\n              border-width: 0 0 1px 0 !important;\r\n              border-color: #4389f9;\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n  .dialogBoxL{\r\n    .el-table__header-wrapper{\r\n      background: #ffffff;\r\n    }\r\n    .el-table{\r\n      background-color: #ffffff;\r\n    }\r\n  }\r\n}\r\n  .dialogBoxL{\r\n    .zskClass{\r\n      .name{\r\n        color: #333333;\r\n        font-weight: bold;\r\n      }\r\n    }\r\n\r\n    /deep/.el-table {\r\n      padding-top: 20px;\r\n      background-color: #ffffff !important;\r\n      &::before {\r\n        background: #ffffff;\r\n      }\r\n      .has-gutter {\r\n        > tr {\r\n          > th {\r\n            background-color: #ffffff !important;\r\n            border-color: #cccccc;\r\n            .cell {\r\n              color: #333333;\r\n              text-align: left;\r\n            }\r\n          }\r\n        }\r\n      }\r\n      .el-table__body {\r\n        .el-table__row {\r\n          height: 52px;\r\n          background-color: #ffffff !important;\r\n          &:hover > td {\r\n            background-color: rgba(#0065b3, 0.1) !important;\r\n          }\r\n\r\n          > td {\r\n            border-color: #cccccc;\r\n\r\n            .el-radio__inner {\r\n              background: #ffffff !important;\r\n              border: 1px solid #4389f9;\r\n            }\r\n            .cell {\r\n              color: #333333;\r\n              .el-input__inner {\r\n                color: #4389f9;\r\n                height: 28px;\r\n                background: transparent;\r\n                border-width: 0 0 1px 0 !important;\r\n                border-color: #4389f9;\r\n              }\r\n            }\r\n          }\r\n        }\r\n      }\r\n    }\r\n  }\r\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./importDoc.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./importDoc.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./importDoc.vue?vue&type=template&id=97c680d2&scoped=true&\"\nimport script from \"./importDoc.vue?vue&type=script&lang=js&\"\nexport * from \"./importDoc.vue?vue&type=script&lang=js&\"\nimport style0 from \"./importDoc.vue?vue&type=style&index=0&id=97c680d2&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"97c680d2\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('bda-dialog',{attrs:{\"visible\":_vm.dialogVisible,\"modal\":true,\"show-close\":false,\"close-on-click-modal\":false,\"title\":\"历史文件及版本\"},on:{\"cancel\":_vm.closeDialog}},[_c('div',{staticClass:\"dialogBox\"},[_c('el-upload',{staticClass:\"upload-demo\",attrs:{\"drag\":\"\",\"data\":_vm.fileData,\"name\":_vm.fileName,\"action\":_vm.fileUrl,\"on-change\":_vm.handleChange,\"before-upload\":_vm.beforeAvatarUpload,\"on-success\":_vm.handleAvatarSuccess,\"file-list\":_vm.fileList}},[_c('i',{staticClass:\"el-icon-upload\"}),_c('div',{staticClass:\"el-upload__text\"},[_vm._v(\"将文件拖到此处，或\"),_c('em',[_vm._v(\"点击上传\")])])])],1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('bda-button',{attrs:{\"bdatype\":\"defualt\"},on:{\"click\":_vm.closeDialog}},[_vm._v(\"关闭\")])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <bda-dialog\r\n        :visible=\"dialogVisible\"\r\n        :modal=\"true\"\r\n        :show-close=\"false\"\r\n        :close-on-click-modal=\"false\"\r\n        @cancel=\"closeDialog\"\r\n        title=\"历史文件及版本\"\r\n    >\r\n        <div class=\"dialogBox\">\r\n            <el-upload\r\n                drag\r\n                class=\"upload-demo\"\r\n                :data=\"fileData\"\r\n                :name=\"fileName\"\r\n                :action=\"fileUrl\"\r\n                :on-change=\"handleChange\"\r\n                :before-upload=\"beforeAvatarUpload\"\r\n                :on-success=\"handleAvatarSuccess\"\r\n                :file-list=\"fileList\">\r\n                <i class=\"el-icon-upload\"></i>\r\n                <div class=\"el-upload__text\">将文件拖到此处，或<em>点击上传</em></div>\r\n<!--                <div class=\"el-upload__tip\" slot=\"tip\">只能上传jpg/png文件，且不超过500kb</div>-->\r\n<!--                <el-button size=\"small\" type=\"primary\">点击上传</el-button>-->\r\n            </el-upload>\r\n        </div>\r\n        <span slot=\"footer\" class=\"dialog-footer\">\r\n          <bda-button bdatype=\"defualt\" @click=\"closeDialog\">关闭</bda-button>\r\n        </span>\r\n    </bda-dialog>\r\n</template>\r\n\r\n<script>\r\n  import Interface from \"../../base/mixin/enterprise-manage-center\";\r\n  import {\r\n    API_PATH\r\n  } from '@/config'\r\n  export default {\r\n    name: \"historyDoc\",\r\n    mixins: [Interface],\r\n    props: {\r\n      url: {\r\n        type: String,\r\n        default: () => {\r\n          return ''\r\n        }\r\n      },\r\n      fileName: {\r\n        type: String,\r\n        default: () => {\r\n          return 'files'\r\n        }\r\n      },\r\n      fileData: {\r\n        type: Object,\r\n        default: () => {\r\n          return null\r\n        }\r\n      },\r\n    },\r\n    data(){\r\n      return {\r\n        dialogVisible:false,\r\n        fileUrl:null,\r\n        fileList:[]\r\n      }\r\n    },\r\n    mounted() {\r\n      this.fileUrl = API_PATH + this.url\r\n    },\r\n    methods:{\r\n      /**\r\n       * @description:关闭弹框回调\r\n       */\r\n      closeDialog() {\r\n        this.dialogVisible = false;\r\n        this.$parent.showFileUp = false;\r\n      },\r\n\r\n      //文件上传成功钩子\r\n      handleAvatarSuccess(res) {\r\n        if (res){\r\n          this.$message.success('上传成功')\r\n          this.$emit('upLoadSuccess',res)\r\n        }\r\n      },\r\n      //文件上传之前钩子\r\n      beforeAvatarUpload() {\r\n        return true\r\n      },\r\n      handleChange(file, fileList) {\r\n        this.fileList = fileList.slice(-1);\r\n      },\r\n    }\r\n  }\r\n</script>\r\n\r\n<style scoped lang=\"scss\">\r\n    ::v-deep .upload-demo{\r\n        .el-upload-dragger {\r\n            background-color: #002a70!important;\r\n        }\r\n    }\r\n    .fileUpload {\r\n\r\n    }\r\n    /deep/{\r\n        .el-dialog__wrapper{\r\n            background-color: rgba(0,0,0,0.4)\r\n        }\r\n        /*修改添加规则弹窗 */\r\n        .el-dialog {\r\n            width: 1094px;\r\n            height: 540px;\r\n            background: #1f2c4d;\r\n            border: 1px solid #4389f9;\r\n            border-radius: 4px;\r\n            .el-dialog__header {\r\n                border-bottom: 1px solid #4389f9 !important;\r\n                height: 48px !important;\r\n\r\n                .bda-dialog-header .bda-dialog-header-title {\r\n                    font-family: MicrosoftYaHei-Bold;\r\n                    font-size: 16px !important;\r\n                    color: #ffffff !important;\r\n                    line-height: 48px;\r\n                    font-weight: 700;\r\n                }\r\n            }\r\n\r\n            .bda-dialog-body-main {\r\n                height: 438px !important;\r\n\r\n                .el-form {\r\n                    .el-row:nth-of-type(3) {\r\n                        height: 80px;\r\n                        .el-textarea__inner {\r\n                            height: 60px;\r\n                            background: #041338;\r\n                            border: 1px solid #4389f9;\r\n                            color: #4298f3;\r\n                            &::placeholder {\r\n                                font-family: MicrosoftYaHei;\r\n                                font-size: 14px;\r\n                                color: #4298f3;\r\n                                font-weight: 400;\r\n                            }\r\n                        }\r\n                    }\r\n\r\n                    .el-row:nth-of-type(4) {\r\n                        height: 110px;\r\n                        .el-textarea__inner {\r\n                            height: 90px;\r\n                            background: #041338;\r\n                            border: 1px solid #4389f9;\r\n                            color: #4298f3;\r\n                            &::placeholder {\r\n                                font-family: MicrosoftYaHei;\r\n                                font-size: 14px;\r\n                                color: #4298f3;\r\n                                font-weight: 400;\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n\r\n            .el-dialog__footer {\r\n                border-top: 1px solid #4389f9 !important;\r\n                height: 52px !important;\r\n\r\n                .dialog-footer {\r\n                    display: block;\r\n                    height: 100%;\r\n                    padding: 11px 20px;\r\n                    box-sizing: border-box;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fileUpload.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./fileUpload.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./fileUpload.vue?vue&type=template&id=94ef67d8&scoped=true&\"\nimport script from \"./fileUpload.vue?vue&type=script&lang=js&\"\nexport * from \"./fileUpload.vue?vue&type=script&lang=js&\"\nimport style0 from \"./fileUpload.vue?vue&type=style&index=0&id=94ef67d8&scoped=true&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"94ef67d8\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}