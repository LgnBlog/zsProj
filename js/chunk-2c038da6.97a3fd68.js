(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2c038da6"],{1945:function(t,e,a){},2750:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{ref:"projectManageTableRef",class:"1"===t.$root.themeHomeChange?"project-manage-table_light":"project-manage-table"},[a("bda-scroll-table",{directives:[{name:"loading",rawName:"v-loading",value:t.tableLoading,expression:"tableLoading"}],ref:"table",attrs:{background:"",data:t.tableData,"popper-append-to-body":"",border:"",blInitLoad:!1,"tooltip-effect":"light","element-loading-text":"拼命加载中","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)"},on:{select:t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"index",label:"序号","min-width":"60","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"id",label:"任务编号","min-width":"160"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-popover",{attrs:{trigger:"hover",placement:"top"}},[a("p",[t._v(t._s(e.row.id))]),a("div",{staticClass:"name-wrapper",attrs:{slot:"reference"},slot:"reference"},[t._v("\n            "+t._s(e.row.id)+"\n          ")])])]}}])}),a("el-table-column",{attrs:{prop:"taskName",label:"任务名称","min-width":"242","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"taskDesc",label:"任务说明","min-width":"270","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"taskType",label:"任务类型","min-width":"120","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(t.options.taskTypeOptions[e.row.taskType])+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"process",label:"业务流程","min-width":"140","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"checkUnit",label:"检查单位","min-width":"140","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"timeQuantum",label:"检查时间段","min-width":"200","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.checkStartDate+"~"+e.row.checkEndDate)+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"timingTaskStartDate",label:"定时任务开始时间","min-width":"220","show-overflow-tooltip":""}}),"我的审核"===t.type?a("el-table-column",{attrs:{prop:"personnel",label:"涉及人员","min-width":"120","show-overflow-tooltip":""}}):t._e(),a("el-table-column",{attrs:{prop:"amountInvolved",label:"涉及金额","min-width":"140","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.amountInvolved||"0")+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"regularOutliers",label:"监测问题数","min-width":"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n        "+t._s(e.row.regularOutliers||"0")+"\n      ")]}}])}),a("el-table-column",{attrs:{prop:"startDate",label:"创建时间","min-width":"120","show-overflow-tooltip":""}}),a("el-table-column",{attrs:{prop:"taskStatus",label:"任务状态","min-width":"100","show-overflow-tooltip":""},scopedSlots:t._u([{key:"default",fn:function(e){return[a("span",[t._v(t._s(t.options.taskStatus[e.row.taskStatus]||""))])]}}])}),a("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"DetailBtn",staticStyle:{"padding-right":"10px"},attrs:{type:"text"},on:{click:function(a){return t.ruleDetails(e.row)}}},[t._v("规则详情")]),"我的新增"===t.type?a("span",[a("el-button",{staticClass:"updateBtn",attrs:{type:"text"},on:{click:function(a){return t.editTask(e.row)}}},[t._v("编辑")]),a("el-button",{staticClass:"stopBtn",attrs:{type:"text",disabled:!e.row.taskStatus},on:{click:function(a){return t.changeTaskStatus(e.row)}}},[t._v(t._s(2==e.row.taskStatus||3==e.row.taskStatus||5==e.row.taskStatus?"停用":1==e.row.taskStatus||4==e.row.taskStatus?"启用":"异常"))]),a("el-button",{staticClass:"DeleteBtn",attrs:{type:"text"},on:{click:function(a){return t.deleteTaskItem(e.row)}}},[t._v("删除")])],1):a("span",[a("el-button",{staticClass:"DeleteBtn",attrs:{type:"text"}},[t._v("审核")])],1)]}}])})],1),a("el-pagination",{attrs:{"current-page":t.pageInfoConfig.page,"page-sizes":[10,20,30,40,50],"page-size":t.pageInfoConfig.rows,background:"",layout:"prev, pager, next, sizes, jumper, total",total:t.pageInfoConfig.total},on:{"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}})],1)},o=[],l=a("3835"),s=(a("ac6a"),a("1a48")),i=a("4328"),r=a.n(i),u={name:"projectManageTable",mixins:[s["a"]],data:function(){return{tableLoading:!1,tableData:[],options:{taskTypeOptions:{1:"实时性检查",2:"计划性检查",3:"专项性检查"},taskStatus:{1:"已创建",2:"进行中",3:"已完成",4:"已停用",5:"已启用"},taskPerformSync:[{id:1,value:"one-day",name:"每天"},{id:2,value:"three-day",name:"每三天"},{id:3,value:"a-week",name:"每一周"},{id:4,value:"half-a-month",name:"每半个月"},{id:5,value:"a-month",name:"每一个月"},{id:6,value:"three-month",name:"每三个月"},{id:7,value:"half-a-year",name:"每半年"},{id:8,value:"a-month",name:"每一年"}]},pageInfoConfig:{page:1,rows:20,total:0},tableHeight:"",selectData:[]}},props:{params:{type:Object,default:function(){return{}}},type:{type:String,default:function(){return"我的新增"}}},watch:{},computed:{},mounted:function(){},methods:{initTable:function(t,e){var a=this;e&&this.setPages(),this.tableData=[],t.current=this.pageInfoConfig.page,t.size=this.pageInfoConfig.rows,this.tableLoading=!0,this.getRiskTaskList(t).then((function(t){t?(a.tableData=t.list,a.setPages(t.pageNum,t.pageSize,t.total)):a.setPages()})).finally((function(){a.tableLoading=!1}))},setPages:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;this.pageInfoConfig={page:t,rows:e,total:a}},toggleSelection:function(t){var e=this;t?t.forEach((function(t){e.$refs.table.toggleRowSelection(t)})):this.$refs.table.clearSelection()},handleSelectionChange:function(t){this.selectData=t},handleSizeChange:function(t){this.pageInfoConfig.rows=t,this.initTable(this.params)},handleCurrentChange:function(t){this.pageInfoConfig.page=t,this.initTable(this.params)},editTask:function(t){this.$emit("editTask",JSON.parse(JSON.stringify(t)))},changeTaskStatus:function(t){var e=this,a=2==t.taskStatus||3==t.taskStatus||5==t.taskStatus?['<strong style="color: #F56C6C;">停用</strong>',0]:1==t.taskStatus||4==t.taskStatus?['<strong style="color: #67C23A;">启用</strong>',1]:["* 错误 *",""],n=Object(l["a"])(a,2),o=n[0],s=n[1];this.$confirm("此操作将 ".concat(o," 该合规任务, 是否继续?"),"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning",dangerouslyUseHTMLString:!0}).then((function(){e.tableLoading=!0,e.taskStatusChange({taskId:t.id,status:s}).then((function(){e.$message.success({dangerouslyUseHTMLString:!0,message:"合规任务 "+o+" 成功！"})})).finally((function(){e.initTable(e.params)}))})).catch((function(){}))},deleteTaskItem:function(t){var e=this;this.$confirm("此操作将删除该合规任务, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.tableLoading=!0,e.deleteTaskById(r.a.stringify({taskId:t.id})).then((function(){e.$message.success("合规任务删除成功！")})).finally((function(){e.initTable(e.params)}))})).catch((function(){}))},ruleDetails:function(t){window.console.log(t),this.$router.push({path:"/ruleList",query:{index:"6-1-3",taskId:t.id,actNav:this.$route.query.actNav}})}}},c=u,p=(a("ba82"),a("2877")),f=Object(p["a"])(c,n,o,!1,null,"6dd14efb",null);e["default"]=f.exports},3835:function(t,e,a){"use strict";function n(t){if(Array.isArray(t))return t}function o(t,e){var a=[],n=!0,o=!1,l=void 0;try{for(var s,i=t[Symbol.iterator]();!(n=(s=i.next()).done);n=!0)if(a.push(s.value),e&&a.length===e)break}catch(r){o=!0,l=r}finally{try{n||null==i["return"]||i["return"]()}finally{if(o)throw l}}return a}function l(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(t,e){return n(t)||o(t,e)||l()}a.d(e,"a",(function(){return s}))},ba82:function(t,e,a){"use strict";var n=a("1945"),o=a.n(n);o.a}}]);
//# sourceMappingURL=chunk-2c038da6.97a3fd68.js.map